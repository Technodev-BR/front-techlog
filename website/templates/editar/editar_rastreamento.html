{% extends 'bases/modal_base.html' %}

{% block modal_header %}
    
    <h5 class="modal-title" id="editar-rastreamentos-modal_titulo">Editar Rastreamento</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

{% endblock %}

{% block modal_body %}

    <div class="modal-body form-group py-3" id="{{modal}}_{{request.resolver_match.app_name}}_body">
        {% csrf_token %}
            
        <div class="alert alert-danger" id="editar-error-rastreamentos-generico" style="display:none;" role="alert">
            <span id="editar-error-rastreamentos-generico-text"></span>
        </div>

        <div class="row mt-2 m-0 p-0">
            <div class="col-8 ps-0">
                <label for="rastreamento">Codigo do Rastreamento</label><small style="color:red;">*</small>
                <input id="editar-rastreamentos-id" type="text" name="rastreamento" class="form-control" readonly>    
            </div>

            <div class="col-4 px-0">
                <label for="isca">Numero Isca</label><small style="color:red;">*</small>
                <input id="editar-rastreamentos-isca" type="text" name="isca" class="form-control" readonly>    
            </div>
            <input id="editar-rastreamentos-isca-id" type="text" name="isca-id" class="form-control" style="display:none;"readonly>
        </div>

        <div class="mt-3">
            <label for="data_implantacao">Data da Implantação</label><small style="color:red;">*</small>
            <input id="editar-rastreamentos-data_implantacao" type="date" name="data_implantacao" class="form-control" readonly>    
        </div>

        <div class="mt-3">
            <label for="data_saida">Data da Saida</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-data_saida" type="date" name="data_saida" class="form-control">    
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-data_saida"></span>     
        </div>

        <div class="mt-3">
            <label for="nota_fiscal">Numero da Nota Fiscal</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-nota_fiscal" type="text" name="nota_fiscal" class="form-control" placeholder="Digite a nota fiscal">    
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-nota_fiscal"></span>     
        </div>

        <div class="mt-3">
            <label for="motorista">Nome do Motorista</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-motorista" type="text" name="motorista" class="form-control" placeholder="Digite o motorista">   
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-motorista"></span>     
        </div>

        <div class="mt-3">
            <label for="placa">Numero da Placa</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-placa" type="text" name="placa" class="form-control" placeholder="Digite a placa">   
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-placa"></span>     
        </div>
        
        <div class="mt-3">
            <label for="rota_insercao">Rota da Inserção</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-rota_insercao" type="text" name="rota_insercao" class="form-control" placeholder="Digite a rota de insercao">   
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-rota_insercao"></span>     
        </div>
        
        <div class="mt-3">
            <label for="rota_maior_valor">Rota Maior Valor</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-rota_maior_valor" type="text" name="rota_maior_valor" class="form-control" placeholder="Digite a rota de maior valor">   
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-rota_maior_valor"></span>     
        </div>

        <div class="mt-3">
            <label for="valor_sm">Valor da SM</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-valor_sm" type="text" maxlength="13" name="valor_sm" class="form-control" placeholder="Digite um valor com ate duas casa depois da ponto">   
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-valor_sm"></span>     
        </div>

        <div class="mt-3">
            <label for="volume">Volume</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-volume" type="text" maxlength="13" name="volume" class="form-control" placeholder="Digite a quantidade do volume">   
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-volume"></span>     
        </div>

        <div class="mt-3">
            <label for="manifesto">Numero do Manifesto</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-manifesto" type="text" name="manifesto" class="form-control" placeholder="Digite o manifesto">   
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-manifesto"></span>     
        </div>

        <div class="my-3">
            <label for="sm">Numero da SM</label><small class="icon-required" style="color:red;display:none">*</small>
            <input id="editar-rastreamentos-sm" type="text" name="sm" class="form-control" placeholder="Digite a sm">    
            <span class="editar-error-rastreamentos text-danger" id="editar-error-rastreamentos-sm"></span>     
        </div>

        <div class="form-control my-2 d-flex justify-content-center" style="display:none !important;" id="foto0"><canvas id="canvas-foto0" width="240" height="220"></canvas></div>

        <div class="form-control my-2 d-flex justify-content-center" style="display:none!important;" id="foto1"><canvas id="canvas-foto1" width="240" height="220"></canvas></div>

        <div class="form-control my-2 d-flex justify-content-center" style="display:none!important;" id="foto2"><canvas id="canvas-foto2" width="240" height="220"></canvas></div>

    </div>
       
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" id="editar-rastreamentos-button_enviar" class="btn btn-primary" onclick="editar_rastreamentos()">Confimar</button>
    </div> 

{% endblock %}